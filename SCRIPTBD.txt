-- TABLA CATEGORIA_PRODUCTO
CREATE TABLE CATEGORIA_PRODUCTO (
    ID_CATEGORIA INT PRIMARY KEY AUTO_INCREMENT,
    DESCRIPCION VARCHAR(255)
);

-- TABLA PRODUCTO
CREATE TABLE PRODUCTO (
    ID_PRODUCTO INT PRIMARY KEY AUTO_INCREMENT,
    STOCK INT,
    NOMBRE VARCHAR(255),
    ID_CATEGORIA INT,
    COSTO_VENTA DECIMAL(10, 2),
    FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIA_PRODUCTO(ID_CATEGORIA)
);

-- TABLA DETALLE_VENTA
CREATE TABLE DETALLE_VENTA (
    ID_DETALLEVENTA INT PRIMARY KEY AUTO_INCREMENT,
    ID_PRODUCTO INT,
    CANTIDAD INT,
    PRECIO_TOTAL DECIMAL(10, 2),
    FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTO(ID_PRODUCTO)
);

-- TABLA VENTA
-- TABLA VENTA
CREATE TABLE VENTA (
    ID_VENTA INT PRIMARY KEY AUTO_INCREMENT,
    FECHA DATE,
    TOTAL DECIMAL(10, 2),
    ID_DETALLEVENTA INT,  -- Corregido el nombre de la columna
    FOREIGN KEY (ID_DETALLEVENTA) REFERENCES DETALLE_VENTA(ID_DETALLEVENTA)
);


-- TABLA PROVEEDOR
CREATE TABLE PROVEEDOR (
    ID_PROVEEDOR INT PRIMARY KEY AUTO_INCREMENT,
    RAZON_SOCIAL VARCHAR(255),
    DIRECCION VARCHAR(255),
    NUMERO_TELEFONO VARCHAR(20),
    RFC VARCHAR(20)
);

-- TABLA DETALLE_COMPRA
CREATE TABLE DETALLE_COMPRA (
    ID_DETALLECOMPRA INT PRIMARY KEY AUTO_INCREMENT,
    ID_PROVEEDOR INT,
    CANTIDAD INT,
    COSTO DECIMAL(10, 2),
    ID_PRODUCTO INT,
    FOREIGN KEY (ID_PROVEEDOR) REFERENCES PROVEEDOR(ID_PROVEEDOR),
    FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTO(ID_PRODUCTO)
);

-- TABLA COMPRA
CREATE TABLE COMPRA (
    ID_COMPRA INT PRIMARY KEY AUTO_INCREMENT,
    TOTAL DECIMAL(10, 2),
    ID_DETALLECOMPRA INT,
    FECHA DATE,
    FOREIGN KEY (ID_DETALLECOMPRA) REFERENCES DETALLE_COMPRA(ID_DETALLECOMPRA)
);

-- TABLA CLIENTE
CREATE TABLE CLIENTE (
    RFC VARCHAR(20) PRIMARY KEY,
    NOMBRE VARCHAR(255),
    USO_FACTURA VARCHAR(255),
    REGIMEN_FISCAL VARCHAR(255),
    CODIGO_POSTAL VARCHAR(10)
);

-- TABLA USUARIO
CREATE TABLE USUARIO (
    ID_USUARIO INT PRIMARY KEY AUTO_INCREMENT,
    NOMBRE VARCHAR(255),
    PRIVILEGIO VARCHAR(50),
    PASSWORD VARCHAR(255)
);
